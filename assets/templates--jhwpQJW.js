import"./fluid-R8omiLT8.js";const a={previewContainer:document.getElementById("previewContainer"),previewOverlay:document.getElementById("previewOverlay"),jsonPreview:document.getElementById("jsonPreview"),downloadLink:document.getElementById("downloadLink")},w="https://raw.githubusercontent.com/Purple-EyeZ/Bunny-Theme-Keys/refs/heads/main/src/Templates/";async function s(t){try{const e=await fetch(`${w}${t}`);if(!e.ok)throw new Error(`Failed to fetch template: ${e.status} - ${e.statusText}`);return e}catch(e){throw console.error("Network error:",e),new Error("Failed to fetch template. Please check your internet connection.")}}async function m(t){const{previewContainer:e,previewOverlay:r,jsonPreview:o,downloadLink:n}=a;try{o.textContent="Loading...",document.body.classList.add("modal-open"),r.classList.add("visible"),e.classList.add("visible");const l=await(await s(t)).json();requestAnimationFrame(()=>{o.textContent=JSON.stringify(l,null,2)}),n.onclick=()=>d(t)}catch(i){console.error("Error loading preview:",i),o.textContent="Failed to load preview. Please try again."}}async function d(t){try{const r=await(await s(t)).blob(),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download=t;const n=document.querySelector(".temp-download-link");n&&document.body.removeChild(n),o.classList.add("temp-download-link"),o.style.display="none",document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(o.href)},100)}catch(e){console.error("Error downloading template:",e),alert("Failed to download template. Please try again later.")}}function c(){const{previewContainer:t,previewOverlay:e}=a;document.body.classList.remove("modal-open"),t.classList.remove("visible"),e.classList.remove("visible"),setTimeout(()=>{document.getElementById("jsonPreview").textContent=""},300)}document.addEventListener("DOMContentLoaded",()=>{const{previewOverlay:t}=a;t==null||t.addEventListener("click",e=>{e.target===t&&c()})});window.showPreview=m;window.downloadTemplate=d;window.closePreview=c;

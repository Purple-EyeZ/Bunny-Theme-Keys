var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{s as F}from"./fluid-R8omiLT8.js";var K=D((y,C)=>{var g=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(i,n,s,l,a,o,p){var u=o.length-1;switch(a){case 1:this.$=i.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(i);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[u-1];case 13:this.$={};break;case 14:this.$=o[u-1];break;case 15:this.$=[o[u-2],o[u]];break;case 16:this.$={},this.$[o[u][0]]=o[u][1];break;case 17:this.$=o[u-2],o[u-2][o[u][0]]=o[u][1];break;case 18:this.$=[];break;case 19:this.$=o[u-1];break;case 20:this.$=[o[u]];break;case 21:this.$=o[u-2],o[u-2].push(o[u]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(i,n){throw new Error(i)},parse:function(i){var n=this,s=[0],l=[null],a=[],o=this.table,p="",u=0,L=0,E=0,T=2,V=1;this.lexer.setInput(i),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var N=this.lexer.yylloc;a.push(N),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function P(d){s.length=s.length-2*d,l.length=l.length-d,a.length=a.length-d}function $(){var d;return d=n.lexer.lex()||1,typeof d!="number"&&(d=n.symbols_[d]||d),d}for(var c,S,h,f,A,b={},_,m,M,I;;){if(h=s[s.length-1],this.defaultActions[h]?f=this.defaultActions[h]:(c==null&&(c=$()),f=o[h]&&o[h][c]),typeof f>"u"||!f.length||!f[0]){if(!E){I=[];for(_ in o[h])this.terminals_[_]&&_>2&&I.push("'"+this.terminals_[_]+"'");var v="";this.lexer.showPosition?v="Parse error on line "+(u+1)+`:
`+this.lexer.showPosition()+`
Expecting `+I.join(", ")+", got '"+this.terminals_[c]+"'":v="Parse error on line "+(u+1)+": Unexpected "+(c==1?"end of input":"'"+(this.terminals_[c]||c)+"'"),this.parseError(v,{text:this.lexer.match,token:this.terminals_[c]||c,line:this.lexer.yylineno,loc:N,expected:I})}if(E==3){if(c==V)throw new Error(v||"Parsing halted.");L=this.lexer.yyleng,p=this.lexer.yytext,u=this.lexer.yylineno,N=this.lexer.yylloc,c=$()}for(;!(T.toString()in o[h]);){if(h==0)throw new Error(v||"Parsing halted.");P(1),h=s[s.length-1]}S=c,c=T,h=s[s.length-1],f=o[h]&&o[h][T],E=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+c);switch(f[0]){case 1:s.push(c),l.push(this.lexer.yytext),a.push(this.lexer.yylloc),s.push(f[1]),c=null,S?(c=S,S=null):(L=this.lexer.yyleng,p=this.lexer.yytext,u=this.lexer.yylineno,N=this.lexer.yylloc,E>0&&E--);break;case 2:if(m=this.productions_[f[1]][1],b.$=l[l.length-m],b._$={first_line:a[a.length-(m||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(m||1)].first_column,last_column:a[a.length-1].last_column},A=this.performAction.call(b,p,L,u,this.yy,f[1],l,a),typeof A<"u")return A;m&&(s=s.slice(0,-1*m*2),l=l.slice(0,-1*m),a=a.slice(0,-1*m)),s.push(this.productions_[f[1]][0]),l.push(b.$),a.push(b._$),M=o[s[s.length-2]][s[s.length-1]],s.push(M);break;case 3:return!0}}return!0}},t=function(){var r={EOF:1,parseError:function(n,s){if(this.yy.parseError)this.yy.parseError(n,s);else throw new Error(n)},setInput:function(i){return this._input=i,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var i=this._input[0];this.yytext+=i,this.yyleng++,this.match+=i,this.matched+=i;var n=i.match(/\n/);return n&&this.yylineno++,this._input=this._input.slice(1),i},unput:function(i){return this._input=i+this._input,this},more:function(){return this._more=!0,this},less:function(i){this._input=this.match.slice(i)+this._input},pastInput:function(){var i=this.matched.substr(0,this.matched.length-this.match.length);return(i.length>20?"...":"")+i.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var i=this.match;return i.length<20&&(i+=this._input.substr(0,20-i.length)),(i.substr(0,20)+(i.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var i=this.pastInput(),n=new Array(i.length+1).join("-");return i+this.upcomingInput()+`
`+n+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var i,n,s,l,a;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),p=0;p<o.length&&(s=this._input.match(this.rules[o[p]]),!(s&&(!n||s[0].length>n[0].length)&&(n=s,l=p,!this.options.flex)));p++);if(n)return a=n[0].match(/\n.*/g),a&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-1:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],i=this.performAction.call(this,this.yy,this,o[l],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return typeof n<"u"?n:this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(n){this.begin(n)}};return r.options={},r.performAction=function(n,s,l,a){switch(l){case 0:break;case 1:return 6;case 2:return s.yytext=s.yytext.substr(1,s.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},r.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],r.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},r}();return e.lexer=t,e}();typeof require<"u"&&typeof y<"u"&&(y.parser=g,y.parse=function(){return g.parse.apply(g,arguments)},y.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof process<"u")var r=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else var i=require("file").path(require("file").cwd()),r=i.join(t[1]).read({charset:"utf-8"});return y.parser.parse(r)},typeof C<"u"&&require.main===C&&y.main(typeof process<"u"?process.argv.slice(1):require("system").args));typeof globalThis<"u"&&(globalThis.jsonlint=g);g.parse;const U=["ABCGintoNord-ExtraBold","ggsans-Bold","ggsans-BoldItalic","ggsans-ExtraBold","ggsans-ExtraBoldItalic","ggsans-Medium","ggsans-MediumItalic","ggsans-Normal","ggsans-NormalItalic","ggsans-Semibold","ggsans-SemiboldItalic","NotoSans-Bold","NotoSans-ExtraBold","NotoSans-Medium","NotoSans-Normal","NotoSans-NormalItalic","NotoSans-Semibold","ggmono-Normal"];function w(e){return/^#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{8}|[0-9A-Fa-f]{3}|[0-9A-Fa-f]{4})$/.test(e)}function B(e,t=null,r=null){const i=e.match(/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+|1\.0)\s*\)$/i);if(!i)return!1;const[,n,s,l,a]=i.map(p=>parseFloat(p)),o=n>=0&&n<=255&&s>=0&&s<=255&&l>=0&&l<=255&&a>=0&&a<=1;return!o&&t&&r&&r.push(`The value "${e}" for "${t}" contains invalid RGB values (must be between 0 and 255) or alpha value (must be between 0 and 1).`),o}function R(e){return typeof e=="string"&&(w(e)||B(e)||e==="transparent")}function q(e){return/^(https?:\/\/.*\.(ttf|otf)(\?.*)?)$/.test(e)}function J(e){return/^https?:\/\/(cdn\.discordapp\.com|discordapp\.com)/.test(e)}function x(e,t,r,i){return typeof e[t]!==r||r==="string"&&e[t].trim()===""?(i.push(`"${t}" must be a non-empty ${r}.`),!1):!0}function k(e,t,r){return!e[t]||typeof e[t]!="object"||Array.isArray(e[t])?(r.push(`"${t}" must be an object.`),!1):!0}function H(e,t,r=!1){const i=new Set;return U.forEach(n=>{if(e[n]){const s=e[n];i.add(s),q(s)||t.push(`Invalid URL for font "${n}": "${s}".`),J(s)&&t.push(`Font "${n}" cannot use Discord CDN URL.`)}else{if(n==="ggmono-Normal"&&e["SourceCodePro-Semibold"]){r.push('"SourceCodePro-Semibold" has been replaced by "ggmono-Normal" in recent Discord versions. Consider updating your font pack.');return}t.push(`Missing required font: "${n}".`)}}),i.size===1&&Object.keys(e).length>1?t.push("All fonts cannot use the same URL. Different font styles must point to different files."):i.size<Object.keys(e).length*.5&&r.push("Most font styles use the same file, which can prevent visual differences and cause display inconsistencies. Use distinct files for each style."),i}document.getElementById("validateButton").addEventListener("click",()=>{const e=document.getElementById("jsonInput").value,t=document.getElementById("result");t.innerHTML="";const r=e.split(`
`);G(r);try{const i=g.parse(e),{errors:n,warnings:s,type:l}=X(i,r);if(n.length>0)t.innerHTML='<p style="color: red;">Validation errors:</p><ul>',n.forEach(a=>{t.innerHTML+=`<li>${a}</li>`}),t.innerHTML+="</ul>";else{const a=l==="fontpack"?"Valid font pack!":"Valid theme!";t.innerHTML=`<p class="success">${a}</p>`}s.length>0&&(t.innerHTML+='<p style="color: orange;">Validation warnings:</p><ul>',s.forEach(a=>{t.innerHTML+=`<li>${a}</li>`}),t.innerHTML+="</ul>"),t.scrollIntoView({behavior:"smooth"})}catch(i){const n=i.message.match(/line (\d+)/),s=n?Number(n[1]):"unknown",l=i.message||"Unknown syntax error";t.innerHTML=`<p class="error">Syntax error on line ${s}: ${l}</p>`,s!=="unknown"&&z(s-1),t.scrollIntoView({behavior:"smooth"})}});function G(e){const t=document.getElementById("lineNumbers");t.innerHTML="",e.forEach((r,i)=>{const n=document.createElement("div");n.textContent=i+1,n.classList.add("line-number"),t.appendChild(n)})}function z(e){const t=document.getElementById("lineNumbers").children;t[e]&&t[e].classList.add("highlight")}function X(e,t){const r=[],i=[];let n="";const s=!!e.main,l=!!e.semanticColors||!!e.rawColors;return!s&&!l?(r.push('Invalid JSON: must contain either "main" for font packs or "semanticColors"/"rawColors" for themes.'),{errors:r,warnings:i,type:"unknown"}):s&&l?(r.push("Invalid JSON: cannot contain both font pack and theme properties."),{errors:r,warnings:i,type:"unknown"}):(n=s?"fontpack":"theme",s?Y(e,r,i):Q(e,r,i),{errors:r,warnings:i,type:n})}function Y(e,t,r){if(x(e,"name","string",t),x(e,"previewText","string",t),x(e,"spec","number",t),e.spec!==1&&t.push('"spec" must be equal to 1.'),!e.main||typeof e.main!="object"){t.push('"main" must be an object containing font definitions.');return}return H(e.main,t,r),Object.keys(e.main).forEach(i=>{!U.includes(i)&&i!=="SourceCodePro-Semibold"&&r.push(`Unknown font "${i}" found in "main".`)}),{errors:t,warnings:r}}function Q(e,t,r){var i;if(x(e,"name","string",t),x(e,"description","string",t),e.semanticColors)if(k(e,"semanticColors",t))for(const n in e.semanticColors)Array.isArray(e.semanticColors[n])?e.semanticColors[n].forEach(s=>{if(!R(s)){t.push(`The value "${s}" for "${n}" is not a valid color code.`);return}B(s,n,t)}):t.push(`The key "${n}" in "semanticColors" must be an array.`);else return;if(e.rawColors)if(k(e,"rawColors",t))for(const[n,s]of Object.entries(e.rawColors))Array.isArray(s)?t.push(`The value for "${n}" must be a string, not an array.`):R(s)?B(s,n,t):t.push(`The value "${s}" for "${n}" is not a valid color code.`);else return;if(Array.isArray(e.authors)?e.authors.forEach((n,s)=>{typeof n.name!="string"&&t.push(`The author at index ${s} must have a valid name.`)}):t.push('"authors" must be an array.'),e.spec===void 0?t.push('"spec" is missing.'):(typeof e.spec!="number"||e.spec!==2)&&t.push('"spec" must be equal to 2.'),e.background)if(k(e,"background",t)){if(e.background.url){const n=e.background.url;J(n)?t.push('"background" cannot be a Discord CDN URL.'):/\.(jpg|jpeg|png|gif)(\?.*)?$/i.test(n)||r.push(`The URL "${n}" may not be a valid image URL.`)}["blur","alpha"].forEach(n=>{e.background[n]!==void 0&&(typeof e.background[n]!="number"?t.push(`"${n}" in "background" must be a number.`):(e.background[n]<0||e.background[n]>1)&&t.push(`"${n}" in "background" must be between 0 and 1.`))})}else return;if(e.fonts)if(k(e,"fonts",t))H(e.fonts,t,r);else return;if(e.plus&&(e.plus.version!==0&&t.push('"plus.version" must be 0.'),e.plus.customOverlays&&e.plus.iconpack&&r.push('"customOverlays" is incompatible with "iconpack".'),(i=e.plus)!=null&&i.icons)){if(k(e.plus,"icons",t))for(const[n,s]of Object.entries(e.plus.icons))Array.isArray(s)?s.forEach(l=>{w(l)||t.push(`Each color in "${n}" must be a valid HEX color string.`)}):typeof s=="string"&&!w(s)?t.push(`The value of "${n}" must be a valid HEX color string.`):typeof s!="string"&&!Array.isArray(s)&&t.push(`The value of "${n}" in "plus.icons" must be a string or an array of strings.`);else return;e.plus.mentionLineColor&&!w(e.plus.mentionLineColor)&&t.push('"mentionLineColor" must be a valid HEX color string.')}return{errors:t,warnings:r}}document.getElementById("jsonInput").addEventListener("scroll",function(){const e=document.getElementById("lineNumbers");e.scrollTop=this.scrollTop});document.getElementById("formatButton").addEventListener("click",()=>{const e=document.getElementById("jsonInput").value;try{const t=JSON.parse(e),r=JSON.stringify(t,null,4);document.getElementById("jsonInput").value=r}catch{document.getElementById("result").innerHTML='<p style="color: red;">Syntax error in JSON, unable to format.</p>'}});document.getElementById("copyButton").addEventListener("click",async()=>{const e=document.getElementById("jsonInput");try{await navigator.clipboard.writeText(e.value),F('<span class="material-symbols-rounded" style="color: #4CAF50;">check</span><span>Copied to clipboard!</span>')}catch(t){console.error("Copy error:",t),F('<span class="material-symbols-rounded" style="color: #fa4343;">error</span><span>Failed to copy</span>')}});document.getElementById("clearButton").addEventListener("click",()=>{document.getElementById("jsonInput").value="",document.getElementById("result").innerHTML=""})});export default K();

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bunny Theme Keys</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #181a1b;
            color: #e0e0e0;
        }

        h1 {
            text-align: center;
            color: #ffffff;
        }

        .search-container {
            text-align: center;
            margin-bottom: 15px;
        }

        /* Styles main search bar */
        .search-bar {
            width: 50%;
            padding: 10px;
            font-size: 16px;
            border-radius: 8px;
            border: 1px solid transparent;
            background-color: #1f2122;
            color: #e0e0e0;
            transition: box-shadow 0.3s, border-color 0.3s;
            box-shadow: 0 0 15px rgba(142, 45, 226, 0.5);
        }

        .search-bar:focus {
            outline: none;
            border-color: #8e2de2;
            box-shadow: 0 0 25px rgba(142, 45, 226, 0.8), 0 0 50px rgba(142, 45, 226, 0.5);
        }

        /* Styles for fixed banner/search bar */
        .fixed-banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #1f2122;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 500;
            transform: translateY(-100%);
            opacity: 0;
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            display: flex !important;
            justify-content: center;
            align-items: center;
            padding: 10px 0;
        }

        .fixed-banner.show {
            transform: translateY(0);
            opacity: 1;
        }

        .fixed-banner .search-bar {
            width: 50%;
            padding: 10px;
            font-size: 16px;
            border-radius: 8px;
            border: 1px solid transparent;
            background-color: #1f2122;
            color: #e0e0e0;
            transition: box-shadow 0.3s, border-color 0.3s;
            box-shadow: 0 0 15px rgba(142, 45, 226, 0.5);
        }

        .fixed-banner .search-bar:focus {
            outline: none;
            border-color: #8e2de2;
            box-shadow: 0 0 25px rgba(142, 45, 226, 0.8), 0 0 50px rgba(142, 45, 226, 0.5);
        }

        /* Styles category buttons */
        .category-buttons {
            text-align: center;
            margin-bottom: 20px;
        }

        .category-button {
            background-image: linear-gradient(to right, #4a00e0, #8e2de2);
            border: none;
            color: #ffffff;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            margin: 0 5px;
            margin-top: 7px;
            margin-bottom: 7px;
            transition: background-image 0.3s, transform 0.3s;
            box-shadow: inset 0 4px 15px rgba(142, 45, 226, 0.5);
        }

        .category-button:hover {
            background-image: linear-gradient(to right, #8e2de2, #4a00e0);
            transform: scale(1.03);
        }

        .category-button.active {
            background-image: linear-gradient(to right, #8e2de2, #4a00e0);
            transform: scale(1.05);
            box-shadow: 0px 0px 10px 3px rgba(142, 45, 226, 0.7);
        }

        .category {
            display: none;
            margin-bottom: 40px;
        }

        .category.active {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .category h2 {
            margin-bottom: 10px;
            color: #ffffff;
        }

        /* Blocs styles */
        .bloc {
            background-color: #1f2122;
            max-height: 400px;
            overflow: hidden;
            border-radius: 8px;
            padding: 10px;
            padding-bottom: 10px;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box;
            justify-content: space-between;
            box-shadow: -1px 2px 9px 0px rgba(0, 0, 0, 0.54), inset 0 5px 14px 0px rgb(149 42 186 / 31%);
            transition: max-height 0.5s ease, padding-bottom 0.5s ease, transform 0.5s ease;
        }

        .bloc.expanded {
            max-height: 5000px;
            padding-bottom: 15px;
            transform: scale(1.01);
        }

        /* Bloc title */
        .bloc h3 {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 4px;
            color: #e0e0e0;
            text-align: center;
            position: relative;
        }

        /* Line under titles */
        .bloc h3::after {
            content: '';
            display: block;
            width: 80%;
            height: 3px;
            background-color: #8e2de2;
            margin: 0 auto;
            position: absolute;
            bottom: -10px;
            left: 10%;
            border-radius: 6px;
            box-shadow: 0 0 11px rgba(142, 45, 226, 1);
        }

        .id {
            font-size: 14px;
            color: #a0a0a0;
            text-align: left;
            margin-bottom: 10px;
            width: 100%;
            padding-left: 10px;
            box-sizing: border-box;
        }

        .images {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            align-items: center;
            margin-bottom: 12px;
        }

        .images img {
            max-width: 200px;
            max-height: 350px;
            height: auto;
            width: auto;
            object-fit: contain;
            margin: 5px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }

        /* Expand button */
        .toggle-button {
            display: none;
            background-color: #4a00e0;
            color: #ffffff;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 15px;
            transition: background-color 0.3s;
            position: absolute;
            bottom: 8px;
            right: 9px;
        }

        .toggle-button:hover {
            background-color: #8e2de2;
            box-shadow: 0 0 4px rgba(178, 16, 241, 0.5), 0 2px 15px rgba(110, 13, 221, 0.575);
            transform: scale(1.01);
        }

        .description {
            margin-bottom: 10px;
            color: #cfcfcf;
            text-align: center;
            max-width: 350px;
        }

        .bottom-banner {
            display: none;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50px;
            background-color: #1f2122;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.5);
            border-top: 1px solid rgba(0, 0, 0, 0.3);
            transition: box-shadow 0.3s, height 0.3s ease;
            border-radius: 0 0 8px 8px;
        }

        .bloc.expanded .bottom-banner {
            display: none;
        }

        .bloc.expanded .toggle-button {
            display: block;
        }

        .bloc.has-hidden-content .toggle-button {
            display: block;
        }

        .bloc.has-hidden-content .bottom-banner {
            display: block;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1500;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            position: relative;
            width: 85%;
            height: 85%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            margin: auto;
        }

        .modal-title {
            position: fixed;
            top: 5px;
            font-size: 18px;
            font-weight: bold;
            color: #ffffff;
            text-align: center;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            box-sizing: border-box;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 25px;
            padding-left: 10px;
            padding-right: 10px;
            color: #cf1818;
            font-size: 45px;
            font-weight: bold;
            cursor: pointer;
        }

        .prev,
        .next {
            position: absolute;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            padding: 40px;
            user-select: none;
            z-index: 2;
        }

        .prev {
            left: 0;
            padding-left: 15px;
            padding-bottom: 20%;
            padding-top: 20%;
        }

        .next {
            right: 0;
            padding-right: 15px;
            padding-bottom: 20%;
            padding-top: 20%;
        }

        .menu-container {
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 1000;
        }

        .menu-button {
            background-color: #4a00e0;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .menu-button:hover {
            background-color: #8e2de2;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            width: 150px;
            top: 50px;
            left: 0;
            background-color: #292929;
            border: 1px solid #575757;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .dropdown-menu ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .dropdown-menu ul li {
            border-bottom: 1px solid #575757;
        }

        .dropdown-menu ul li a {
            display: block;
            padding: 10px 20px;
            text-decoration: none;
            color: #f1f1f1;
            transition: background-color 0.3s;
        }

        .dropdown-menu ul li a:hover {
            background-color: #3f3f3f;
        }

        /* Style for the Back to Top button */
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: none;
            background-color: #4a00e0;
            color: white;
            border: none;
            padding: 7px 16px;
            padding-bottom: 5px;
            border-radius: 40px;
            cursor: pointer;
            font-size: 16px;
            z-index: 1000;
            transition: background-color 0.3s;
        }

        .back-to-top:hover {
            background-color: #8e2de2;
        }
    </style>
</head>

<body>

    <div class="fixed-banner" id="fixedBanner">
        <input type="text" id="fixedSearchBar" class="search-bar" placeholder="Search something...">
    </div>

    <h1>Bunny Theme Keys</h1>

    <div class="search-container">
        <input type="text" id="search-bar" class="search-bar" placeholder="Search something...">
    </div>

    <div class="category-buttons">
        <button class="category-button" onclick="showCategory('semantic-colors')">Semantic Colors</button>
        <button class="category-button" onclick="showCategory('raw-colors')">RAW Colors</button>
    </div>

    <div class="category" id="semantic-colors">
        <h2>Semantic Colors</h2>
        <!-- Semantic Colors Blocks -->
    </div>

    <div class="category" id="raw-colors">
        <h2>RAW Colors</h2>
        <!-- Raw Colors Blocks -->
    </div>

    <div class="menu-container">
        <button id="menuButton" class="menu-button">☰ Menu</button>
        <div id="dropdownMenu" class="dropdown-menu">
            <ul>
                <li><a href="https://purple-eyez.github.io/Bunny-Theme-Keys/">&#x1F3E0; Home</a></li>
                <li><a href="https://vendetta-themes.gitbook.io/wiki" target="_blank">&#x1F4D8; Docs</a></li>
                <li><a href="https://github.com/nexpid/Themelings/tree/data" target="_blank">&#8734; Themelings</a></li>

                <!-- <li><a href="#section3">Section 3</a></li> -->
                <!-- <li><a href=" http://0.0.0.0:8000/ " target="_blank">&#x1F3E0; Home</a></li> -->
                <!-- External link (target="_blank" for open link in new tab) -->
            </ul>
        </div>
    </div>

    <!-- Modal for image enlargement -->
    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <div id="modalTitle" class="modal-title"></div>
        <span class="prev">&#10094;</span>
        <span class="next">&#10095;</span>
        <div class="modal-content">
            <img id="modalImage" src="" alt="">
        </div>
    </div>

    <!-- Back to Top Button -->
    <button id="backToTopButton" class="back-to-top">&#x1F881;</button>

    <script>
        // Function to fetch JSON data
        async function fetchData() {
            try {
                const response = await fetch('data.json', { cache: "default" });
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                renderBlocks(data.semanticColors, 'semantic-colors');
                renderBlocks(data.rawColors, 'raw-colors');
                addSearchFunctionality();
                addImageClickEvents();
            } catch (error) {
                console.error("Error while loading JSON data:", error);
            }
        }

        // Function to check if content is hidden
        function checkContentOverflow(blockElement) {
            const imagesContainer = blockElement.querySelector('.images');
            const descriptionElement = blockElement.querySelector('.description');
            const titleElement = blockElement.querySelector('.bloc h3');
            const idElement = blockElement.querySelector('.id');

            // Overflow check function
            function updateOverflowStatus() {
                const totalContentHeight =
                    imagesContainer.scrollHeight +
                    descriptionElement.scrollHeight +
                    titleElement.scrollHeight +
                    idElement.scrollHeight;

                // Check if the block content is overflowing
                const isOverflowing = totalContentHeight > 400; // Size fixed here

                if (isOverflowing) {
                    blockElement.classList.add('has-hidden-content');
                } else {
                    blockElement.classList.remove('has-hidden-content');
                }
            }

            // Initial check
            updateOverflowStatus();

            // Using ResizeObserver to observe size changes
            const resizeObserver = new ResizeObserver(() => updateOverflowStatus());
            resizeObserver.observe(imagesContainer);
            resizeObserver.observe(descriptionElement);
            resizeObserver.observe(titleElement);
            resizeObserver.observe(idElement);
        }

        // Create blocs
        function renderBlocks(blocks, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = ''; // Clear container before rendering

            // Create an IntersectionObserver with rootMargin to load images earlier
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const imgElement = entry.target;
                        imgElement.src = imgElement.dataset.src;
                        observer.unobserve(imgElement);
                    }
                });
            }, {
                rootMargin: '400px 0px' // Load images when they are 400px from the viewport
            });

            blocks.forEach((block) => {
                const blockElement = document.createElement('div');
                blockElement.classList.add('bloc');
                blockElement.dataset.title = block.title.toLowerCase();
                blockElement.dataset.description = block.description.toLowerCase();

                // Create and append the Title element
                const titleElement = document.createElement('h3');
                titleElement.textContent = block.title;
                blockElement.appendChild(titleElement);

                // Create and append the Description element
                const descriptionElement = document.createElement('p');
                descriptionElement.classList.add('description');
                descriptionElement.textContent = block.description;
                blockElement.appendChild(descriptionElement);

                // Create and append the Images container
                const imagesContainer = document.createElement('div');
                imagesContainer.classList.add('images');
                block.images.forEach((imageUrl) => {
                    const imgElement = document.createElement('img');
                    imgElement.dataset.src = imageUrl;
                    imgElement.alt = block.title;
                    imgElement.loading = 'lazy'; // Lazy loading
                    imagesContainer.appendChild(imgElement);

                    // Observe each image with IntersectionObserver
                    observer.observe(imgElement);
                });
                blockElement.appendChild(imagesContainer);

                // Create and append the ID element
                const idElement = document.createElement('p');
                idElement.classList.add('id');
                idElement.textContent = `ID: ${block.id}`;
                blockElement.appendChild(idElement);

                // Create and append bottom banner
                const bottomBanner = document.createElement('div');
                bottomBanner.classList.add('bottom-banner');
                blockElement.appendChild(bottomBanner);

                // Add an expand/collapse button
                const toggleButton = document.createElement('button');
                toggleButton.classList.add('toggle-button');
                toggleButton.textContent = '⏷ More';
                toggleButton.onclick = function () {
                    toggleBlock(blockElement, toggleButton);
                };
                blockElement.appendChild(toggleButton);

                container.appendChild(blockElement);

                // Check if the content is initially hidden
                checkContentOverflow(blockElement);
            });
        }

        // Function to toggle block's expanded state
        function toggleBlock(blockElement, button) {
            const isExpanded = blockElement.classList.contains('expanded');

            // Change the expanded state
            blockElement.classList.toggle('expanded');

            if (isExpanded) {
                // Check overflow status
                checkContentOverflow(blockElement);
            } else {
                // The block is now extended, remove the overflow status
                blockElement.classList.remove('has-hidden-content');
            }

            // Update button text according to state
            button.textContent = blockElement.classList.contains('expanded') ? '⏶ Less' : '⏷ More';
        }

        // Function to add search functionality
        function addSearchFunctionality() {
            const searchBar = document.getElementById('search-bar');
            searchBar.addEventListener('input', function () {
                const query = searchBar.value.toLowerCase();
                filterBlocks(query);
            });
        }

        // Function to control display of fixed banner during scrolling
        function handleScroll() {
            const searchContainer = document.querySelector('.search-container');
            const fixedBanner = document.getElementById('fixedBanner');
            const searchBar = document.getElementById('search-bar');
            const fixedSearchBar = document.getElementById('fixedSearchBar');

            const searchContainerBottom = searchContainer.getBoundingClientRect().bottom;

            if (searchContainerBottom <= 0 && !fixedBanner.classList.contains('show')) {
                fixedBanner.style.display = 'block';
                setTimeout(() => {
                    fixedBanner.classList.add('show'); // Activate animation
                }, 10); // Short delay to ensure display is applied before animation
                fixedSearchBar.value = searchBar.value;
            } else if (searchContainerBottom > 0 && fixedBanner.classList.contains('show')) {
                fixedBanner.classList.remove('show'); // Deactivate animation
                setTimeout(() => {
                    if (!fixedBanner.classList.contains('show')) {
                        fixedBanner.style.display = 'none'; // Hide banner after animation
                    }
                }, 300); // Duration of CSS animation
            }
        }

        // Synchronize searches between the fixed bar and the original bar
        function syncSearchBars() {
            const searchBar = document.getElementById('search-bar');
            const fixedSearchBar = document.getElementById('fixedSearchBar');

            fixedSearchBar.addEventListener('input', function () {
                searchBar.value = fixedSearchBar.value;
                searchBar.dispatchEvent(new Event('input'));
            });

            searchBar.addEventListener('input', function () {
                fixedSearchBar.value = searchBar.value;
            });
        }

        // Initialization
        function initSearchFunctionality() {
            addSearchFunctionality();
            syncSearchBars();
            window.addEventListener('scroll', handleScroll);
        }

        // Function to filter blocks based on search query
        function filterBlocks(query) {
            const allBlocks = document.querySelectorAll('.bloc');
            allBlocks.forEach(block => {
                const title = block.dataset.title;
                const description = block.dataset.description;
                if (title.includes(query) || description.includes(query)) {
                    block.style.display = 'block';
                } else {
                    block.style.display = 'none';
                }
            });
        }

        // Function to add click events to images
        function addImageClickEvents() {
            const images = document.querySelectorAll('.images img');
            images.forEach(img => {
                img.addEventListener('click', function () {
                    openModal(this);
                });
            });
        }

        // Function to open the modal with the clicked image
        function openModal(clickedImg) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');

            // Set the src for the modal image
            modalImage.src = clickedImg.dataset.src || clickedImg.src;

            // Set the title for the modal
            const blockElement = clickedImg.closest('.bloc');
            if (blockElement) {
                const titleElement = blockElement.querySelector('h3'); // Title= h3
                modalTitle.textContent = titleElement ? titleElement.textContent : '';
            }

            // Update the index and modal images
            updateModalImages();
            currentImageIndex = modalImages.indexOf(clickedImg.dataset.src || clickedImg.src);

            // Update title
            updateModalTitle();

            // Preload the current and adjacent images
            preloadAdjacentImages(currentImageIndex);

            // Show the modal
            modal.style.display = 'flex';

            // Add event listener to close modal when clicking outside the image
            modal.addEventListener('click', closeModalOutsideImage, true);
        }

        // Function to close the modal
        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';

            // Remove the event listener to prevent multiple bindings
            modal.removeEventListener('click', closeModalOutsideImage, true);
        }

        // Function to close the modal when clicking outside the image
        function closeModalOutsideImage(event) {
            const modalImage = document.getElementById('modalImage');
            const prevButton = document.querySelector('.prev');
            const nextButton = document.querySelector('.next');

            // Close the modal if the click is outside the image and not on the navigation buttons
            if (event.target !== modalImage && event.target !== prevButton && event.target !== nextButton) {
                closeModal();
            }
        }

        // Function to navigate to the previous image
        function showPrevImage() {
            if (modalImages.length > 0) {
                currentImageIndex = (currentImageIndex - 1 + modalImages.length) % modalImages.length;
                loadCurrentImage();
                preloadAdjacentImages(currentImageIndex);
                updateModalTitle();
            }
        }

        // Function to navigate to the next image
        function showNextImage() {
            if (modalImages.length > 0) {
                currentImageIndex = (currentImageIndex + 1) % modalImages.length;
                loadCurrentImage();
                preloadAdjacentImages(currentImageIndex);
                updateModalTitle();
            }
        }

        // Function to update the title in the modal
        function updateModalTitle() {
            const modalTitle = document.getElementById('modalTitle');
            const currentImgSrc = modalImages[currentImageIndex];
            const blockElement = Array.from(document.querySelectorAll('.bloc')).find(block => {
                return Array.from(block.querySelectorAll('.images img')).some(img => img.dataset.src === currentImgSrc || img.src === currentImgSrc);
            });

            if (blockElement) {
                const titleElement = blockElement.querySelector('h3');
                modalTitle.textContent = titleElement ? titleElement.textContent : '';
            }
        }

        // Function to update the list of images for modal navigation
        function updateModalImages() {
            if (activeCategory) {
                modalImages = Array.from(document.querySelectorAll(`#${activeCategory} .images img`)).map(img => img.dataset.src || img.src);
            } else {
                modalImages = [];
            }
        }

        // Function to load the current image in the modal
        function loadCurrentImage() {
            const modalImage = document.getElementById('modalImage');
            modalImage.src = modalImages[currentImageIndex];
        }

        // Function to preload adjacent images (previous and next)
        function preloadAdjacentImages(index) {
            if (modalImages.length > 0) {
                const prevIndex = (index - 1 + modalImages.length) % modalImages.length;
                const nextIndex = (index + 1) % modalImages.length;

                preloadImage(modalImages[prevIndex]);
                preloadImage(modalImages[nextIndex]);
            }
        }

        // Function to preload a single image
        function preloadImage(src) {
            const img = new Image();
            img.src = src;
        }

        // Add event listeners for modal controls
        document.querySelector('.close').addEventListener('click', closeModal);
        document.querySelector('.prev').addEventListener('click', showPrevImage);
        document.querySelector('.next').addEventListener('click', showNextImage);

        // Initial setup
        let modalImages = [];
        let currentImageIndex = 0;
        let activeCategory = '';

        // Function to show the category based on the button clicked
        function showCategory(categoryId) {
            const categories = document.querySelectorAll('.category');
            const buttons = document.querySelectorAll('.category-button');

            // Remove 'active' class from all categories
            categories.forEach(category => {
                category.classList.remove('active');
            });

            // Add 'active' class to the selected category
            document.getElementById(categoryId).classList.add('active');

            // Remove 'active' class from all buttons
            buttons.forEach(button => {
                button.classList.remove('active');
            });

            // Add 'active' class to the clicked button
            const activeButton = document.querySelector(`.category-button[onclick="showCategory('${categoryId}')"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }

            // Update the active category
            activeCategory = categoryId;
        }

        // Show the Back to Top button after scrolling down
        window.onscroll = function () {
            const backToTopButton = document.getElementById('backToTopButton');
            if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
                backToTopButton.style.display = "block";
            } else {
                backToTopButton.style.display = "none";
            }
        };

        // Scroll to the top of the page when the button is clicked
        document.getElementById('backToTopButton').addEventListener('click', function () {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Dropdown Menu
        document.addEventListener("DOMContentLoaded", function () {
            const menuButton = document.getElementById("menuButton");
            const dropdownMenu = document.getElementById("dropdownMenu");

            menuButton.addEventListener("click", function () {
                dropdownMenu.style.display = dropdownMenu.style.display === "block" ? "none" : "block";
            });

            // Hide menu if user clicks outside it
            window.addEventListener("click", function (event) {
                if (event.target !== menuButton && !menuButton.contains(event.target) && !dropdownMenu.contains(event.target)) {
                    dropdownMenu.style.display = "none";
                }
            });
        });

        // Call fetchData to load data and display blocks + Init search
        window.onload = function () {
            initSearchFunctionality();
            fetchData();
        };
    </script>

</body>

</html>
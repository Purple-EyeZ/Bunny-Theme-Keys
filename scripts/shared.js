import{initMainPage}from"./main.js";import{isFixedSearchFocused}from"./search.js";let previousScrollY=window.scrollY;const fixedBanner=document.querySelector(".fixed-banner"),backToTopButton=document.getElementById("backToTopButton"),menuButton=document.getElementById("menuButton"),dropdownMenu=document.getElementById("dropdownMenu");function handleScroll(){const e=window.scrollY,n=e>previousScrollY;previousScrollY=e;const t=e>15&&!fixedBanner.classList.contains("show"),o=e<=15&&fixedBanner.classList.contains("show")&&!isFixedSearchFocused()&&!n;t?(fixedBanner.classList.add("show"),fixedBanner.classList.remove("hide")):o&&(fixedBanner.classList.add("hide"),fixedBanner.classList.remove("show"))}window.onscroll=()=>{const e=document.documentElement.scrollTop>400;backToTopButton.style.display=e?"block":"none"},backToTopButton.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),document.addEventListener("DOMContentLoaded",(()=>{menuButton.addEventListener("click",(()=>{dropdownMenu.classList.toggle("visible")})),window.addEventListener("click",(e=>{e.target===menuButton||menuButton.contains(e.target)||dropdownMenu.contains(e.target)||dropdownMenu.classList.remove("visible")}))}));export function showToast(e){const n=document.getElementById("toast");n.innerHTML=e,n.classList.add("show"),setTimeout((()=>n.classList.remove("show")),2e3)}function initFluidToggle(){const e=document.getElementById("fluidToggleButton");let n=document.querySelector("canvas");const t="true"===localStorage.getItem("fluidEnabled");n&&(n.style.display=t?"block":"none",t&&(e.classList.add("active"),document.body.classList.add("fluid-enabled"))),e?.addEventListener("click",(()=>{const t="none"===n.style.display;n.style.display=t?"block":"none",localStorage.setItem("fluidEnabled",t),e.classList.toggle("active"),document.body.classList.toggle("fluid-enabled"),t&&window.location.reload()}))}function initScrollHandling(){handleScroll(),window.addEventListener("scroll",handleScroll)}window.onload=()=>{initScrollHandling(),initFluidToggle(),["/","/index.html","/Bunny-Theme-Keys/"].includes(window.location.pathname)&&initMainPage()},document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("whatsthat");e&&e.addEventListener("click",(e=>{e.preventDefault(),window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")}))}));